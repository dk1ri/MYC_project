<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><!--This file was converted to xhtml by OpenOffice.org - see http://xml.openoffice.org/odf2xhtml for more info.--><head profile="http://dublincore.org/documents/dcmi-terms/"><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8"/><title xml:lang="en-US">DTMF RBC</title><meta name="DCTERMS.title" content="DTMF RBC" xml:lang="en-US"/><meta name="DCTERMS.language" content="en-US" scheme="DCTERMS.RFC4646"/><meta name="DCTERMS.source" content="http://xml.openoffice.org/odf2xhtml"/><meta name="DCTERMS.creator" content="DK1RI"/><meta name="DCTERMS.issued" content="2012-02-01T18:05:06.26" scheme="DCTERMS.W3CDTF"/><meta name="DCTERMS.contributor" content="DK1RI"/><meta name="DCTERMS.modified" content="2016-01-04T20:51:27.09" scheme="DCTERMS.W3CDTF"/><meta name="DCTERMS.provenance" content="" xml:lang="en-US"/><meta name="DCTERMS.subject" content="MYC," xml:lang="en-US"/><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" hreflang="en"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" hreflang="en"/><link rel="schema.DCTYPE" href="http://purl.org/dc/dcmitype/" hreflang="en"/><link rel="schema.DCAM" href="http://purl.org/dc/dcam/" hreflang="en"/><style type="text/css">
	@page {  }
	table { border-collapse:collapse; border-spacing:0; empty-cells:show }
	td, th { vertical-align:top; font-size:12pt;}
	h1, h2, h3, h4, h5, h6 { clear:both }
	ol, ul { margin:0; padding:0;}
	li { list-style: none; margin:0; padding:0;}
	<!-- "li span.odfLiEnd" - IE 7 issue-->
	li span. { clear: both; line-height:0; width:0; height:0; margin:0; padding:0; }
	span.footnodeNumber { padding-right:1em; }
	span.annotation_style_by_filter { font-size:95%; font-family:Arial; background-color:#fff000;  margin:0; border:0; padding:0;  }
	* { margin:0;}
	.P1 { font-size:12pt; font-family:Times New Roman; writing-mode:page; text-align:right ! important; }
	.P10 { font-size:12pt; font-family:Times New Roman; writing-mode:page; font-weight:normal; }
	.P3 { font-size:14pt; font-family:Times New Roman; writing-mode:page; text-align:center ! important; font-weight:bold; }
	.P4 { font-size:12pt; font-family:Times New Roman; writing-mode:page; font-weight:bold; }
	.P5 { font-size:12pt; font-family:Times New Roman; writing-mode:page; font-weight:normal; }
	.P6 { font-size:12pt; font-family:Times New Roman; writing-mode:page; text-align:center ! important; }
	.P7 { font-size:12pt; font-family:Times New Roman; writing-mode:page; text-align:justify ! important; }
	.P8 { font-size:12pt; font-family:Times New Roman; writing-mode:page; font-weight:normal; }
	.Standard { font-size:12pt; font-family:Times New Roman; writing-mode:page; }
	.Internet_20_link { color:#000080; text-decoration:underline; }
	.T1 { font-weight:bold; }
	.T2 { color:#0000ff; font-family:Times New Roman; font-size:10pt; text-decoration:underline; }
	.T3 { font-family:Times New Roman; font-size:12pt; }
	<!-- ODF styles with no properties representable as CSS -->
	{ }
	</style></head><body dir="ltr" style="max-width:21.001cm;margin-top:2cm; margin-bottom:2cm; margin-left:2cm; margin-right:2cm; "><p class="P3">DTMF Sender für Remote Shack von MFJ</p><p class="P6"> </p><p class="P10">Author: DK1RI</p><p class="P10">Version V01.2  20160101</p><p class="P10">This paper is published in github.com/dk1ri as well</p><p class="P10"> </p><p class="P4">Einleitung</p><p class="Standard"> </p><p class="Standard">Dieses Interface setzt MYC Befehle in DTMF Befehle für das MFJ Remote Shack (TM) um.</p><p class="Standard">So kann ein Remote Shack in ein MYC System eingebunden werden.</p><p class="Standard">Dies ist ein Beispiel für die Verwendung des DTMF Senders als Template durch einfache Ergänzungen.</p><p class="Standard">Das Interface arbeitet als Slave am I2C Bus.</p><p class="Standard">Das Interface kann auch bei entsprechender Bestückung der Leiterplatte Eingaben an der RS232 Schnittstelle oder USB Schnittstelle in Remote Shack Signale umsetzten.</p><p class="Standard"> </p><p class="P4">Beschreibung</p><p class="Standard"> </p><p class="Standard">Die Eagle Daten der Leiterplatte stehen unter  [1].</p><p class="Standard">Die Stromversorgung ist 7- 15V, Stromaufnahme ca. 40mA max  oder über USB.</p><p class="Standard"> </p><p class="Standard">Die Daten müssen binär eingegeben werden; er erfolgt keine Wandlung, </p><p class="Standard">Die gesendeten Zeichen werden auch immer über die RS232 Schnittstelle als Ziffern und Buchstaben A - F ausgegeben.</p><p class="Standard">RS232 /USB und I2C können „gleichzeitig“ verwendet werden. Allerdings wird beim jedem Wechsel der Befehlspuffer gelöscht.</p><p class="Standard"> </p><p class="Standard">Für die Programmierung stand die Befehlsliste, die mit dem RBC212-IC2 geliefert wurde, zur Verfügung.</p><p class="Standard">Ich konnte nicht die Bedeutung aller Befehle herausfinden; einige sind offenbar für andere Zusatzgeräte gedacht. Die Befehle wurden zwar mit einem DTMF Empfänger getestet, aber nicht mit einem realen RBC.</p><p class="Standard"> </p><p class="Standard">Das Remote Shack liefert keine Datenrückmeldung. Bei Eingabe von Daten, die das Funkgerät nicht versteht, sind die Anzeigen an der Benutzerschnittstelle möglicherweise falsch.</p><p class="Standard"> </p><p class="Standard">Die Initialisierung dauert ca 10 Sekunden, da der RBC erst eingeschaltet wird und dann die Ansage abgewartet wird.</p><p class="Standard"> </p><p class="P4">Befehle / Announcements</p><p class="Standard"> </p><p class="Standard">Folgende Befehle werden von der I2C  / RS232 / USB Schnittstelle akzeptiert:</p><p class="Standard">Zu Details zum MYC Protokoll und zur Bedienung siehe [3]</p><p class="P7">Die Kommntare zu den Befehlen sind eine Kopie aus dem Bascom Programm:</p><p class="P7"> </p><p class="Standard">Befehl <span> </span><span> </span></p><p class="Standard">Announce0:</p><p class="Standard">'Befehl &amp;H00            eigenes basic announcement lesen</p><p class="Standard">'                       basic announcement is read to I2C or output</p><p class="Standard">Data "0;m;DK1RI;MFJ RBC Interface(TM);V01.1;1;160;57;62"</p><p class="Standard">'</p><p class="Standard">Announce1:</p><p class="Standard">'Befehl &amp;H01            setzt FrequenzVFO A</p><p class="Standard">'                       set frequency, command * VFOA *</p><p class="Standard">Data "1;om,set frequeny;L,[0 to 999999.9]"</p><p class="Standard">'</p><p class="Standard">Announce2:</p><p class="Standard">'Befehl &amp;H02            setzt Frequenz VFO B</p><p class="Standard">'                       set frequency, command * VFOB #</p><p class="Standard">Data "2;om,set frequency;L,[0 to 999999.9]"</p><p class="Standard">'</p><p class="Standard">Announce3:</p><p class="Standard">'Befehl &amp;H03            gibt frequenz ausVFO A (als Sprache)</p><p class="Standard">'                       play frequency command **  VFOA</p><p class="Standard">Data "3;ou, play frequency VFO A;0"</p><p class="Standard">'</p><p class="Standard">Announce4:</p><p class="Standard">'Befehl &amp;H04            gibt frequenz aus (als Sprache)</p><p class="Standard">'                       play frequency command #  VFOB</p><p class="Standard">Data "4;ou, play frequency VFOB;0"</p><p class="Standard">'</p><p class="Standard">Announce5:</p><p class="Standard">'Befehl &amp;H05   0 to 3   Aendert Frequenz um 1 Step; command #1 1 4 8 0</p><p class="Standard">'                       change frequency 1 step</p><p class="Standard">Data"5;ou;change frequency;0,+100;1,-100;2,+500;3,-500"</p><p class="Standard">'</p><p class="Standard">Announce6:</p><p class="Standard">'Befehl &amp;H06    0 to 4  startet scan,  command #1 2 3 5 6 0</p><p class="Standard">'                       start scan</p><p class="Standard">Data"6;ou;scan;0,medium up;1,fast up;2,medium down;3,fast down;4,stop"</p><p class="Standard">'</p><p class="Standard">Announce7:</p><p class="Standard">'Befehl &amp;H07   0 to 99  setzt memory, command #1 7 x x</p><p class="Standard">'                       set memory</p><p class="Standard">Data "7;om,set memory;b,[0 to 99]"</p><p class="Standard">'</p><p class="Standard">Announce8:</p><p class="Standard">'Befehl &amp;H08   0 to 99  recall memory, command #1 9 x x</p><p class="Standard">'                       recall memory</p><p class="Standard">Data "8;om,recall memory frequency;b,[0 to 99]"</p><p class="Standard">'</p><p class="Standard">Announce9:</p><p class="Standard">'Befehl &amp;H09            Ant 1 ein, command #2 1</p><p class="Standard">'                       Ant 1 on</p><p class="Standard">Data"9;ou;Ant1;0"</p><p class="Standard">'</p><p class="Standard">Announce10:</p><p class="Standard">'Befehl &amp;H0A            Ant 2 eincommand #2 2</p><p class="Standard">'                       Ant 2 on</p><p class="Standard">Data "10;ou;Ant2;0"</p><p class="Standard">'</p><p class="Standard">Announce11:</p><p class="Standard">'Befehl &amp;H0B            Tuner an, command #2 3</p><p class="Standard">'                       Tuner on</p><p class="Standard">Data"11;ou;Tuner on;0"</p><p class="Standard">'</p><p class="Standard">Announce12:</p><p class="Standard">'Befehl &amp;H0C            Tuner aus, command #2 6</p><p class="Standard">'                       Tuner out</p><p class="Standard">Data"12;ou;Tuner out;0"</p><p class="Standard">'</p><p class="Standard">Announce13:</p><p class="Standard">'Befehl &amp;H0D            Aux1 an, command #2 7</p><p class="Standard">'                       Aux1 on</p><p class="Standard">Data"13;ou;Aux1 on;0"</p><p class="Standard">'</p><p class="Standard">Announce14:</p><p class="Standard">'Befehl &amp;H0E            Aux1 aus, command #2 8</p><p class="Standard">'                       Aux1 off</p><p class="Standard">Data"13;ou;Aux1 off;0"</p><p class="Standard">'</p><p class="Standard">Announce15:</p><p class="Standard">'Befehl &amp;H0F            Tune Antenne command #2 9</p><p class="Standard">'                       Tune Antennea</p><p class="Standard">Data"15;ou;Tune Antenna on;0"</p><p class="Standard">'</p><p class="Standard">Announce16:</p><p class="Standard">'Befehl &amp;H10            0 to 359 dreht Antenne1, command #2 4 x x x</p><p class="Standard">'                       Rotatate Ant1</p><p class="Standard">Data "16;om,rotate Antenna 1;b,[0 to 359]"</p><p class="Standard">'</p><p class="Standard">Announce17:</p><p class="Standard">'Befehl &amp;H11            0 to 359 dreht Antenne2, command #2 5 x x x</p><p class="Standard">'                       Rotatate Ant2</p><p class="Standard">Data "17;om,rotate Antenna 2;b,[0 to 359]"</p><p class="Standard">'</p><p class="Standard">Announce18:</p><p class="Standard">'Befehl &amp;H12            stoppt Rotor, command #2 0</p><p class="Standard">'                       stops rotation</p><p class="Standard">Data"18;ou;stop ratation;0"</p><p class="Standard">'</p><p class="Standard">Announce19:</p><p class="Standard">'Befehl &amp;H13   0,1      Abschwächer, command #3 1  or #3 0 1</p><p class="Standard">'                       Attenuator</p><p class="Standard">Data"19;oa;Attenuator;a"</p><p class="Standard">'</p><p class="Standard">Announce20:</p><p class="Standard">'Befehl &amp;H14   0,1      Vorverstärker, command #3 2 Or #3 0 2</p><p class="Standard">'                       Preamp</p><p class="Standard">Data"20;oa;Preamp;a"</p><p class="Standard">'</p><p class="Standard">Announce21:</p><p class="Standard">'Befehl &amp;H15   0,1      Noiseblanker, command #3 3 Or #3 0 3</p><p class="Standard">'                       Noiseblanker</p><p class="Standard">Data"21;oa;Noise blanker;a"</p><p class="Standard">'</p><p class="Standard">Announce22:</p><p class="Standard">'Befehl &amp;H16   0,1      Rauschunterdrückung, command #3 4 Or #3 0 4</p><p class="Standard">'                       Noise reduction</p><p class="Standard">Data"22;oa;Noise reduction;a"</p><p class="Standard">'</p><p class="Standard">Announce23:</p><p class="Standard">'Befehl &amp;H17   0,1      Auto Notch #3 5 Or #3 0 5</p><p class="Standard">'                       Auto notch</p><p class="Standard">Data"23;oa;Auto Notch;a"</p><p class="Standard">'</p><p class="Standard">Announce24:</p><p class="Standard">'Befehl &amp;H18   0 to 2   setzt filter, command #3 7.. 8... 9</p><p class="Standard">'                       set filter</p><p class="Standard">Data"24;os;Filter;0,narrow;1,medium;2,wide"</p><p class="Standard">'</p><p class="Standard">Announce25:</p><p class="Standard">'Befehl &amp;H19            alle Function aus, command #3 0 0</p><p class="Standard">'                       all functions off</p><p class="Standard">Data"25;ou;all filter functions off;0"</p><p class="Standard">'</p><p class="Standard">Announce26:</p><p class="Standard">'Befehl &amp;H1A   0 to 4   setzt Betriebsart, command #3 6 1, 2, 3, 4, 5</p><p class="Standard">'                       set mode</p><p class="Standard">Data"26;os;Mode;0,LSB;1,USB;2,AM;3,CW;4,FM"</p><p class="Standard">'</p><p class="Standard">Announce27:</p><p class="Standard">'Befehl &amp;H1B   0,1      Sprachkompressor, command #4 2 Or #4 0 2</p><p class="Standard">'                       speech compressor</p><p class="Standard">Data"27;oa;spech compressor;a"</p><p class="Standard">'</p><p class="Standard">Announce28:</p><p class="Standard">'Befehl &amp;H1C   0,1      VOX, command #4 3 Or #4 0 3</p><p class="Standard">'                       VOX</p><p class="Standard">Data"28;oa;VOX;a"</p><p class="Standard">'</p><p class="Standard">Announce29:</p><p class="Standard">'Befehl &amp;H1D   0,1      Tone, command #4 4 Or #4 0 4</p><p class="Standard">'                       Tone</p><p class="Standard">Data"29;oa;Tone;a"</p><p class="Standard">'</p><p class="Standard">Announce30:</p><p class="Standard">'Befehl &amp;H1E   0,1      split, command #4 5 Or #4 0 5</p><p class="Standard">'                       split</p><p class="Standard">Data"30;oa;split;a"</p><p class="Standard">'</p><p class="Standard">Announce31:</p><p class="Standard">'Befehl &amp;H1F   0,1      Verstärker #4 6 Or #4 0 6</p><p class="Standard">'                       Amplifier</p><p class="Standard">Data"31;oa;Amplifier;a"</p><p class="Standard">'</p><p class="Standard">Announce32:</p><p class="Standard">'Befehl &amp;H20            alle Sendefunctionen aus, command #4 0 0</p><p class="Standard">'                       all tx functions off</p><p class="Standard">Data"32;ou;all TX functions off;0"</p><p class="Standard">'</p><p class="Standard">Announce33:</p><p class="Standard">'Befehl  &amp;H21  0 to 9999   setzt tone Frequenz</p><p class="Standard">'                          set tone frequency</p><p class="Standard">Data "33;op,tone frequency;w,0 to 999,9"</p><p class="Standard">'</p><p class="Standard">Announce34:</p><p class="Standard">'Befehl &amp;H22   0 to 2      setzt shift, command -4 8 x</p><p class="Standard">'                          set shift</p><p class="Standard">Data"34;os;Shift;0,simplex;1,+;2,-"</p><p class="Standard">'</p><p class="Standard">Announce35:</p><p class="Standard">'Befehl &amp;H23      0 to 3   Ausgangsleistung , command #4 9 x</p><p class="Standard">'                          set power</p><p class="Standard">Data"35;os;power;0,25%;1,50%;2,75%;3,100%"</p><p class="Standard">'</p><p class="Standard">Announce36:</p><p class="Standard">'Befehl &amp;H24   0,1         AUX2 an au, command #6 2 0 Or #6 2 1</p><p class="Standard">'                          AUX2 on off</p><p class="Standard">Data"36;oa;AUX2;a"</p><p class="Standard">'</p><p class="Standard">Announce37:</p><p class="Standard">'Befehl &amp;H25   0,1         AUX3 an au, command #6 3 0 Or #6 3 1</p><p class="Standard">'                          AUX3 on off</p><p class="Standard">Data"37;oa;AUX3;a"</p><p class="Standard">'</p><p class="Standard">Announce38:</p><p class="Standard">'Befehl &amp;H26   0,1         AUX4 an au, command #6 4 0 Or #6 4 1</p><p class="Standard">'                          AUX4 on off</p><p class="Standard">Data"38;oa;AUX4;a"</p><p class="Standard">'</p><p class="Standard">Announce39:</p><p class="Standard">'Befehl &amp;H27   0,1         AUX5 an au, command #6 5 0 Or #6 5 1</p><p class="Standard">'                          AUX5 on off</p><p class="Standard">Data"39;oa;AUX5;a"</p><p class="Standard">'</p><p class="Standard">Announce40:</p><p class="Standard">'Befehl &amp;H28   0,1         AUX6 an au, command #6 6 0 Or #6 6 1</p><p class="Standard">'                          AUX6 on off</p><p class="Standard">Data"40;oa;AUX6;a"</p><p class="Standard">'</p><p class="Standard">Announce41:</p><p class="Standard">'Befehl &amp;H29   0,1         AUX7 an au, command #6 7 0 Or #6 7 1</p><p class="Standard">'                          AUX7 on off</p><p class="Standard">Data"41;oa;AUX7;a"</p><p class="Standard">'</p><p class="Standard">Announce42:</p><p class="Standard">'Befehl &amp;H2A   0,1         AUX8 an au, command #6 8 0 Or #6 8 1</p><p class="Standard">'                          AUX8 on off</p><p class="Standard">Data"42;oa;AUX8;a"</p><p class="Standard">'</p><p class="Standard">Announce43:</p><p class="Standard">'Befehl &amp;H2B   0,1         AUX9 an au, command #6 9 0 Or #6 9 1</p><p class="Standard">'                          AUX9 on off</p><p class="Standard">Data"43;oa;AUX9;a"</p><p class="Standard">'</p><p class="Standard">Announce44:</p><p class="Standard">'Befehl &amp;H2C               reset, command #5 5</p><p class="Standard">'                          reset</p><p class="Standard">Data"44;ou;reset;0"</p><p class="Standard">'</p><p class="Standard">Announce45:</p><p class="Standard">'Befehl &amp;H2D               Sprachlautstärke auf, command #5 8</p><p class="Standard">'                          voice volume up</p><p class="Standard">Data"45;ou;voice volume up;0"</p><p class="Standard">'</p><p class="Standard">Announce46:</p><p class="Standard">'Befehl &amp;H2E               Sprachlautstärke ab, command #5 0</p><p class="Standard">'                          voice volume down</p><p class="Standard">Data"46;ou;voice volume down;0"</p><p class="Standard">'</p><p class="Standard">Announce47:</p><p class="Standard">'Befehl &amp;H2F   0 to 9      Zahl der Ruftone, command#5 7 x</p><p class="Standard">'                          number of ring</p><p class="Standard">Data"47;om,number of ring;b,[0 to 9]"</p><p class="Standard">'</p><p class="Standard">Announce48:</p><p class="Standard">'Befehl &amp;H30   0 to 9999      passwort fetlegen, command #5 4 x x x x</p><p class="Standard">'                             set password</p><p class="Standard">Data"48;om,set password;L,[0 to 9999]"</p><p class="Standard">'</p><p class="Standard">Announce49:</p><p class="Standard">'Befehl &amp;H31   0 to 255       DTMF Länge</p><p class="Standard">'                             DTMF length</p><p class="Standard">Data "49;oa,DTMF Duration;b"</p><p class="Standard">'</p><p class="Standard">Announce50:</p><p class="Standard">'Befehl &amp;H32   0 to 255       DTMF Länge</p><p class="Standard">'                             DTMF length</p><p class="Standard">Data "50;aa,as49"</p><p class="Standard"/><p class="Standard">Announce51:</p><p class="Standard">'Befehl &amp;H33   0 to 255       DTMF Pausezeit</p><p class="Standard">'                             DTMF wait</p><p class="Standard">'Data "51;oa,DTMF wait;b"</p><p class="Standard">'</p><p class="Standard">Announce52:</p><p class="Standard">'Befehl &amp;H34   0 to 255       DTMF Pausezeit</p><p class="Standard">'                             DTMF wait</p><p class="Standard">Data "52;aa,as51"</p><p class="Standard">'</p><p class="Standard">Announce53:</p><p class="Standard">'Befehl &amp;H35            Sende ein, command #4 1</p><p class="Standard">'                       transmit</p><p class="Standard">Data"53;ou;transmit;0"</p><p class="Standard">'</p><p class="Standard">Announce54:</p><p class="Standard">'Befehl &amp;H36            Spielt Ch1 beim Senden, command #4 1</p><p class="Standard">'                       play Ch1</p><p class="Standard">Data"54;ou;play Ch1;0"</p><p class="Standard">'</p><p class="Standard">Announce55:</p><p class="Standard">'Befehl &amp;H37            Start, command *</p><p class="Standard">'                       start</p><p class="Standard">Data"55;ou;start"</p><p class="Standard">'</p><p class="Standard">Announce56:</p><p class="Standard">'Befehl &amp;H38   0 to 9999      passwort eingeben, command x x x x</p><p class="Standard">'                             password</p><p class="Standard">Data"56;om,password;L,[0 to 9999]"</p><p class="Standard">'</p><p class="Standard">Announce57:</p><p class="Standard">'Befehl &amp;HF0 :   0-13,</p><p class="Standard">'                253,254 255        announcement aller Befehle in I2C Puffer kopieren</p><p class="Standard">'                                   announcement lines are read to I2C  or output</p><p class="Standard">Data "240;am,ANNOUNCEMENTS;160;62"</p><p class="Standard">'</p><p class="Standard">Announce58:                                                  '</p><p class="Standard">'&amp;HFC                                Letzten Fehler in I2C Puffer kopieren oder ausgeben</p><p class="Standard">'                                   read last error</p><p class="Standard">Data "252;aa,LAST ERROR;20,last_error"</p><p class="Standard">'</p><p class="Standard">Announce59:                                                  '</p><p class="Standard">'Befehl &amp;HFD :                      eigene activ Meldung in I2C Puffer kopieren (&amp;H04) oder ausgeben</p><p class="Standard">'                                   Life signal</p><p class="Standard">Data "253;aa,MYC INFO;b,BUSY"</p><p class="Standard">'</p><p class="Standard">Announce60:</p><p class="Standard">'Befehl &amp;HFE :        *             eiene Individualisierung schreiben</p><p class="Standard">'                                   Der Devicename &amp;HFE00 kann maximal 20 Zeichen haben</p><p class="Standard">'                                   Anderer Adresstyp &amp;HFE02 kann maximal 3 Zeichen haben.</p><p class="Standard">'                                   wird aber ignoriert.</p><p class="Standard">Data "254;oa,INDIVIDUALIZATION;20,NAME,Device 1;b,NUMBER,1;1,I2C,1;b,ADRESS,14"</p><p class="Standard">'</p><p class="Standard">Announce61:</p><p class="Standard">'Befehl &amp;HFF :        0 - 3         eigene Individualisierung in I2C Puffer kopieren</p><p class="Standard">Data "255;aa,INDIVIDUALIZATION;20,NAME,Device 1;b,NUMBER,1;1,I2C,1;b,ADRESS,14;1,RS232,1;b,BAUDRATE,0,{19200};3,NUMBER_OF_BITS,8n1;1,USB,1"</p><p class="Standard"> </p><p class="P4">I2C</p><p class="Standard"> </p><p class="Standard">Die Default Adresse ist 14.</p><p class="Standard">Mit dem Befehl &amp;HFE03&lt;n&gt; kann die Adresse in n (1 … 128) geändert werden.</p><p class="Standard">Pullup Widerstände für den I2C Bus (R1/R2) können bei Bedarf bestückt werden. Der Gesamtwiderstand am Bus sollte zwischen 1 und 10 kOhm liegen. </p><p class="Standard"> </p><p class="P4">Fehlermeldungen</p><p class="P4"> </p><p class="Standard">Der Befehl &amp;HFC liefert den letzten Fehler im Format:</p><p class="Standard">aktuelle Befehlsnummer - Fehler - Befehlsnummer beim Auftritt des Fehlers</p><p class="Standard">Dazu werden die empfangenen Befehle von 0 bis 255 umlaufend gezählt.</p><p class="Standard"> </p><p class="P4">Reset</p><p class="P4"> </p><p class="Standard">Ist der Reset Jumper JP4 beim Anlegen der Versorgungsspannung überbrückt, werden wieder die Defaultwerte eingelesen. Dies ist hilfreich, wenn die aktuelle I2C Adresse verloren gegangen ist.</p><p class="Standard"> </p><p class="P4">Watchdog</p><p class="Standard"> </p><p class="Standard">Die Befehlseingabe muss in weniger als 1 Sekunde beendet sein. Danach werden die bereits empfangenen Daten gelöscht. Dies soll falsche Eingaben vermeiden.  Mit dem "letzten Fehler" Befehl kann man Eingabefehler sehen. Er zeigt die aktuelle Befehlsnummer und die des Fehlers.</p><p class="Standard"> </p><p class="P4">Software</p><p class="P4"> </p><p class="Standard">Die Steuerung übernimmt ein AVR Mikrocontroller Atmega16 oder grösser</p><p class="Standard">Die Software wurde in BASCOM geschrieben [2]</p><p class="Standard"> </p><p class="P4">Programmierung des Prozessors</p><p class="Standard"> </p><p class="Standard">Zur Programmierung des Prozessors ist ein 6poliger ISP Stecker vorhanden.</p><p class="Standard">Um der Prozessor von der Stromversorgung der übrigen Schaltung zu trennen, muss der Jumper JP1 entfernt werden.</p><p class="P8">Die Fuses müssen möglicherweise programmiert werden (sh Bascom Programm) !! Prozessortyp  mß ggf angepasst werden.</p><p class="P4"> </p><p class="P4">DTMF Ausgang</p><p class="Standard"> </p><p class="Standard">Der DTMF Ausgang des Prozessors kann direkt herausgeführt werden (R15 =0 Ohm, C12 entfällt)  oder über diesen Tiefpass (1k/100nF). Das Ausgangssignal ist ein Rechtecksignal und auch nach der Filterung nicht gleichspannungsfrei. Der Pegel im Ruhezustand ist unbestimmt. Ein Koppelkondesator wird daher empfohlen.</p><p class="Standard"> </p><p class="P4">RS232 Schnittstelle</p><p class="Standard"> </p><p class="Standard">Bei Bedarf und entsprechender Bestückung kann auch die RS232/USB Schnittstelle zur Befehlseingabe verwendet  werden. Die Erkennung der aktiven Schnittstelle (I2C / seriell) erfolgt automatisch. Sofern ein Befehl nicht komplett gesendet wurde und die andere Schnittstelle sendet Daten, wird der alte Befehl abgebrochen. Daher kann eine gleichzeitige Verwendung beider Schnittstellen zu Fehlern führen.</p><p class="Standard">Schnittstellenparameter: 19k2 8N1</p><p class="Standard">Es muss bei Jumper JP6 und JP7 ist jeweils Pin1 und Pin2  überbrückt werden.</p><p class="P4"> </p><p class="P4">USB Schnittstelle</p><p class="Standard"> </p><p class="Standard">Das Interface kann alternativ mit der USB Platine UM2102 von ELV bestückt werden. Die USB Platine wird plan auf der Oberseite der Interfaces verlötet: der USB Stecker zeigt seitlich nach außen. Die mittleren 4 pins des Verbinders ST2  sind mit dem 4 poligen Verbinder JP9 auf dem Interface zu verbinden.USB Platine und Interface müssen voneinander isoliert werden.</p><p class="Standard">Die Stromversorgung erfolgt dann über USB.</p><p class="P4"> </p><p class="P4">SMD</p><p class="Standard"> </p><p class="Standard">Die Leiterplatte ist teilweise mit SMD bestückt. Bei den nötigen Bauteilen sind das aber nur zwei relativ großen Kondensatoren (1206).</p><p class="Standard"> </p><p class="P4">Stromversorgung</p><p class="Standard"> </p><p class="Standard">Die Stromversorgung ist 7- 15V, Stromaufnahme ca. 70mA max. Bei Verwendung des USB Moduls erfolgt die Stromversorgung darüber.</p><p class="Standard"> </p><p class="P4">Bestückung der Leiterplatte</p><p class="P4"> </p><p class="Standard">Da die Leiterplatte auch für andere Anwendungen eingesetzt werden kann, brauchen nur folgende Bauteile  bestückt werden:</p><p class="Standard">IC1 (ATMEGA16 oder grösser), Q1(10MHz), C7 – C10, JP1 (muss für Normalbetrieb überbrückt werden), SL4</p><p class="Standard"> </p><p class="Standard">Tiefpass:</p><p class="Standard">R15, C12</p><p class="Standard"> </p><p class="Standard">Verwendung von ISP:</p><p class="Standard">JP5</p><p class="Standard"> </p><p class="Standard">nur mit RS232 Schnittstelle:</p><p class="Standard">IC2, IC3, D1, C1 - C6, JP6, JP7 (jeweils Pin1 und Pin 2 überbrücken), X1, X4 (Buchse)</p><p class="Standard"> </p><p class="Standard">nur mit USB</p><p class="Standard">UM2102</p><p class="Standard">nur I2C</p><p class="Standard">R1, R2 nach Bedarf, X1, X2, X3, IC3, D1, C1, C2</p><p class="Standard"> </p><p class="Standard">Weitere Bestückung erleichtert Tests..</p><p class="Standard"> </p><p class="Standard"><span class="T1">Anschlüss</span>e</p><p class="Standard"> </p><p class="Standard">Power</p><p class="Standard">Tip<span> 12V</span></p><p class="Standard">Ring<span> GND</span></p><p class="Standard"> </p><p class="Standard">RS232 (Buchse)</p><p class="Standard">5<span> GND</span></p><p class="Standard">2<span> Jumper</span></p><p class="Standard">3<span> Jumper</span></p><p class="Standard"> </p><p class="Standard">I2C Stereo (2 x 3,5mm Klinke)</p><p class="Standard">Sleeve<span> GND</span></p><p class="Standard">Ring<span> SDA</span></p><p class="Standard">Tip<span> SCL</span></p><p class="Standard"> </p><p class="Standard">DTMF (LP SL6)</p><p class="Standard">1<span> DTMF </span></p><p class="Standard">5<span> GND</span></p><p class="Standard"> </p><p class="P4">Versionen</p><p class="Standard"> </p><p class="Standard">Diese Beschreibung gilt für die</p><p class="Standard">Leiterplattenversion 02.1 (ATMega 16 0der groesser) Die Leiterplattenversion 2.0 (24 poliger Prozessor) ist auch möglich.</p><p class="P8">Bascom Version 01.1</p><p class="P4"> </p><p class="P4">Copyright</p><p class="Standard"> </p><p class="P5">Die Ideen in diesem Dokument unterliegen der GPL (Gnu Public Licence V2) soweit keine früheren, anderen Rechte betroffen sind.</p><p class="P5">Die Verwendung der Unterlagen erfolgt auf eigene Geafahr; es wird keinerlei Garantie übernommen.</p><p class="P5">The ideas of this document can be used under GPL (Gnu Public License V2) as long as no earlier other rights are affected.</p><p class="P5">The usage of this document is on own risk, there is no warranty.</p><p class="P4">Referenzen</p><p class="Standard">[<span class="T3">[1]        </span><a href="http://www.dk1ri.de/common/myc/MYC_i2c_rs232_interface/i2c_rs232_interface_eagle_V02.3.zip" class="Internet_20_link"><span class="T2">i2c_rs232_interface_eagle.zip</span></a></p><p class="Standard">[2]<span> <a href="http://www.dk1ri.de/common/myc/MYC_dtmf_rbc/MYC_dtmf_rbc_bascom.zip" class="Internet_20_link">dtmf_rbc_bascom.zip</a></span></p><p class="Standard">[3]<span> <a href="http://www.dk1ri.de/common/myc/MYC_basic/MYC.pdf" class="Internet_20_link">MYC.pdf</a></span></p><p class="Standard"> </p></body></html>