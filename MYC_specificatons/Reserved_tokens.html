<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><!--This file was converted to xhtml by LibreOffice - see http://cgit.freedesktop.org/libreoffice/core/tree/filter/source/xslt for the code.--><head profile="http://dublincore.org/documents/dcmi-terms/"><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8"/><title xml:lang="en-US">MYC Reserved Tokens</title><meta name="DCTERMS.title" content="MYC Reserved Tokens" xml:lang="en-US"/><meta name="DCTERMS.language" content="en-US" scheme="DCTERMS.RFC4646"/><meta name="DCTERMS.source" content="http://xml.openoffice.org/odf2xhtml"/><meta name="DCTERMS.issued" content="2012-03-14T11:26:10" scheme="DCTERMS.W3CDTF"/><meta name="DCTERMS.modified" content="2016-02-23T11:44:07.461846897" scheme="DCTERMS.W3CDTF"/><meta name="DCTERMS.provenance" content="" xml:lang="en-US"/><meta name="DCTERMS.subject" content="," xml:lang="en-US"/><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" hreflang="en"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" hreflang="en"/><link rel="schema.DCTYPE" href="http://purl.org/dc/dcmitype/" hreflang="en"/><link rel="schema.DCAM" href="http://purl.org/dc/dcam/" hreflang="en"/><style type="text/css">
	@page {  }
	table { border-collapse:collapse; border-spacing:0; empty-cells:show }
	td, th { vertical-align:top; font-size:12pt;}
	h1, h2, h3, h4, h5, h6 { clear:both }
	ol, ul { margin:0; padding:0;}
	li { list-style: none; margin:0; padding:0;}
	<!-- "li span.odfLiEnd" - IE 7 issue-->
	li span. { clear: both; line-height:0; width:0; height:0; margin:0; padding:0; }
	span.footnodeNumber { padding-right:1em; }
	span.annotation_style_by_filter { font-size:95%; font-family:Arial; background-color:#fff000;  margin:0; border:0; padding:0;  }
	* { margin:0;}
	.P1 { font-size:12pt; font-family:Times New Roman; writing-mode:page; text-align:right ! important; }
	.P10 { font-size:12pt; font-family:Times New Roman; writing-mode:page; font-style:italic; text-decoration:none ! important; }
	.P11 { font-size:12pt; font-family:Times New Roman; writing-mode:page; font-style:italic; text-decoration:none ! important; font-weight:normal; }
	.P12 { font-size:12pt; font-family:Times New Roman; writing-mode:page; font-style:normal; text-decoration:none ! important; font-weight:bold; }
	.P13 { font-size:12pt; font-family:Times New Roman; writing-mode:page; }
	.P14 { font-size:14pt; font-family:Times New Roman; writing-mode:page; text-align:center ! important; font-weight:bold; }
	.P15 { font-size:12pt; font-family:Times New Roman; writing-mode:page; font-weight:bold; }
	.P16 { font-size:12pt; font-family:Times New Roman; writing-mode:page; font-weight:normal; }
	.P3 { font-size:12pt; font-family:Times New Roman; writing-mode:page; }
	.P4 { font-size:12pt; font-family:Times New Roman; writing-mode:page; font-weight:normal; }
	.P5 { font-size:12pt; font-family:Times New Roman; writing-mode:page; font-weight:bold; }
	.P6 { font-size:12pt; font-family:Times New Roman; writing-mode:page; text-decoration:none ! important; }
	.P7 { font-size:12pt; font-family:Times New Roman; writing-mode:page; text-decoration:none ! important; font-weight:normal; }
	.P8 { font-size:12pt; font-family:Times New Roman; writing-mode:page; text-decoration:none ! important; font-weight:bold; }
	.P9 { font-size:12pt; font-family:Times New Roman; writing-mode:page; font-style:italic; }
	.Standard { font-size:12pt; font-family:Times New Roman; writing-mode:page; }
	.Internet_20_link { color:#000080; text-decoration:underline; }
	.T1 { color:#0000ff; font-family:Times New Roman; font-size:12pt; text-decoration:underline; }
	.T2 { text-decoration:none ! important; }
	.T3 { font-style:italic; }
	<!-- ODF styles with no properties representable as CSS -->
	.T4 .T5  { }
	</style></head><body dir="ltr" style="max-width:29.7cm;margin-top:2cm; margin-bottom:2cm; margin-left:2cm; margin-right:2cm; writing-mode:lr-tb; "><p class="P14">MYC, Reserved and Mandatory Commands / Tokens</p><p class="P4"> </p><p class="P4">Author: DK1RI </p><p class="P4">Version V01.13 20160222</p><p class="P4">This project can be found in <a href="https://github.com/dk1ri" class="Internet_20_link">https://github.com/dk1ri</a> also.</p><p class="P4"> </p><p class="P4">This paper describes reserved command tokens.</p><p class="P4">For usage, handling of commands see also [1] and [2]</p><p class="P3"> </p><p class="P5">Definitions and formats</p><p class="P3"> </p><p class="P3">NO<span> </span><span> </span><span> normal device, device-type m</span></p><p class="P3">HI<span> </span><span> </span><span> human Interface  device, device-type h</span></p><p class="P3">CR<span> </span><span> </span><span> command-router, device-type c</span></p><p class="P3">LD<span> </span><span> </span><span> logic-device, device-type l</span></p><p class="P3">RU<span> </span><span> </span><span> rules device, device-type r</span></p><p class="P3">PR<span> </span><span> </span><span> controlled program with MYC Interface or interface to program, works similar to a normal device, device-type p.</span></p><p class="P3">PQ<span> </span><span> </span><span> controlling program, works similar to a HI, devicetype q</span></p><p class="P3">&lt;dt&gt;<span> </span><span> </span><span> devicetype: m, h, c, l,  r, p, q</span></p><p class="P3">&lt;c&gt;<span> </span><span> </span><span> unique (per device) command token; one number (unsigned 1, 2, 4 or 8 Byte). 0 (one byte always) is reserved for the basic</span></p><p class="P3"><span> </span><span> </span><span> announcement. &amp;HxxF0 - &amp;HxxFF are also reserved</span></p><p class="P3">&lt;ct&gt;<span> </span><span> </span><span> command-type</span></p><p class="P3">&lt;p&gt;<span> </span><span> </span><span> property (parameter) of the type &lt;n&gt; or &lt;s&gt; in command answer and info </span></p><p class="P3">&lt;pa&gt;<span> </span><span> </span><span> property of the type &lt;n&gt;, &lt;ty&gt;, &lt;sm&gt; or &lt;OPTION&gt; in an announcement </span></p><p class="P3">&lt;OPTION&gt;<span> </span><span> optional property</span></p><p class="P3">&lt;des&gt;<span>  </span><span> </span><span> a string &lt;sm&gt;  used in announcements for identification or description of  commands and properties.</span></p><p class="P3"><span> </span><span> </span><span> &lt;des&gt; are optional sometimes. They can be used better human reading and for informative display of the HI. </span></p><p class="P3"><span> </span><span> </span><span> They are also used for the translation to real values.</span></p><p class="P3">&lt;n&gt;<span> </span><span> </span><span> numeric value, binary in commands and properties; decimal readable in announcements, &amp;Hxx, &amp;Bxx notation allowed in </span></p><p class="P3"><span> </span><span> </span><span> announcements. The transmitted values of numeric properties and data have a range from 1 to x, as defined by  the</span></p><p class="P3"> <span> </span><span> </span><span> announcement. The value &amp;H00 is also not allowed as the first byte for parameters with more than one byte.</span></p><p class="P3"><span> </span><span> </span><span> For the selection of the property-format it is important, how many different values are needed. So a range of -3 to</span></p><p class="P3"><span> </span><span> </span><span>  +200 has 204 </span><span> values and a byte with the range of 1 to 204 is used. </span></p><p class="P3"><span> </span><span> </span><span> A range from 1,0 to 2.0 needs 11 values from 1 to 11 – a byte is also sufficient.</span></p><p class="P3"><span> </span><span> </span><span> The HI knows the real values by the readable and real values of &lt;des&gt; of the announcement  and will translate and </span></p><p class="P3"><span> </span><span> </span><span> display the real values.</span></p><p class="P3"><span> </span><span> </span><span> To minimize transmission time, numeric values for properties are transmitted </span></p><p class="P3"><span> </span><span> </span><span> as byte, </span><span> </span><span> </span><span> </span><span> if equal or less than 254 (1 to &amp;HFF) different values are needed </span></p><p class="P3"><span> </span><span> </span><span> as unsigned word (2 byte)</span><span> </span><span> if equal or less than 65279 (&amp;H0100 - &amp;HFFFF) different values are needed </span></p><p class="P3"><span> </span><span> </span><span> as unsigned long word (4 byte)</span><span> if up to 4 278  190 179 (&amp;H01000000- &amp;HFFFFFFFF) different values are needed</span></p><p class="P3"><span> </span><span> </span><span> ...</span></p><p class="P3"><span> </span><span> </span><span> For commandtoken the value is different, because there are 16 reserved token </span></p><p class="P3"><span> </span><span> </span><span> All  numbers are “1” , “256”, ...based.</span></p><p class="P3">&lt;s&gt;<span> </span><span> </span><span> string, all characters. The string is preceded by the length; as byte, word or long, depending on maximum length given in the </span></p><p class="P3"><span> </span><span> </span><span> announcement. This type exists in commands answers and infos. For stringlength the rule of &lt;n&gt; apply: no “0” as first byte  </span></p><p class="P3">&lt;sm&gt;<span> </span><span> </span><span> string (all characters except  , ;{}\) Used in announcements; forbidden characters must be escaped (preceded) by \</span></p><p class="P3"><span> </span><span> </span><span> if used as normal text.</span></p><p class="P3">&lt;l&gt;<span> </span><span> </span><span> maximum length of a string &lt;s&gt; in announcements</span></p><p class="P3">&lt;ty&gt;<span> </span><span> </span><span> 1 byte: a : bit, b : byte; 2 bytes: i : signed integer, w : unsigned word; 4 bytes: e: signed long, L : unsigned long, s : single;</span></p><p class="P3"><span> </span><span> </span><span> 8 bytes: d : double, 9 byte: t : time-date; variable bytes: c : command-token, </span></p><p class="P3"> <span> </span><span> </span><span> &lt;s&gt; : string proceeded by actual length l. The length of l is defined by &lt;l&gt; in the announcement.</span></p><p class="P3"><span> </span><span> </span><span> t: the date format. The UNIX 64 bit format is used; preceded by &amp;H01</span></p><p class="P3"><span> </span><span> </span><span> A bit is transferred as a byte with the value of &amp;H01 or &amp;H02</span></p><p class="P3"><span> </span><span> </span><span> If applicable data are transmitted “big endian”: MSB first</span></p><p class="P3">&lt;default&gt;<span> </span><span> a default value in an announcement</span></p><p class="P3">&lt;fixed&gt;<span> </span><span> a fixed informative value in an announcement</span></p><p class="P3">&lt;announce&gt;<span> </span><span> complete announcement or announcement line, a string &lt;sm&gt;; as answer it is transmitted in &lt;s&gt; format</span></p><p class="P3">&lt;data&gt;<span> </span><span> </span><span> &lt;s&gt; or &lt;n&gt; in commands answers or info </span></p><p class="P3">separators<span> </span><span> For the announcement parser (CR, HI or LD eg):  , ; (comma, semicolon) </span></p><p class="P3"><span> </span><span> </span><span> , is the separator between pa and des.</span></p><p class="P3"><span> </span><span> </span><span> ; is the separator between pa</span></p><p class="P3"><span> </span><span> </span><span> There are no separators in commands, answers and infos</span></p><p class="P3">&amp;HxxFF<span> </span><span> means highest number in 1, 2, 4 or 8Byte number (hex format)</span></p><p class="P3">[ ]<span> </span><span> </span><span> optional properties</span></p><p class="P5"/><p class="P5">Overview</p><p class="P3"> </p><p class="P3">Every MYC device should provide mandatory reserved command tokens and understand them, if applicable.</p><p class="P3">The set of announcements of a MYC device should start with the basic command &amp;H00 and end with the individualization command &amp;HxxFFas last command. This is necessary, to identify commands in systems with hierarchical (stacked) commandrouters. Rules lines may follow only.</p><p class="P4">Reserved tokens are  (one byte) &amp;H00 and &amp;HxxF0 -&amp;HxxFF.</p><p class="P4">Reserved one byte token &amp;H00 must be the first token of the announcelist; the other reserved token must be at the end in the numerical sequence.</p><p class="P3"> </p><p class="P3">Eight of these are used and defined now: &amp;H00, &amp;HxxF0, &amp;HxxF1 and &amp;HxxFB - &amp;HxxFF</p><p class="P3"> </p><p class="P5">Announcements Command &amp;H00, &amp;HxxF0 and &amp;HxxF1</p><p class="P3"> </p><p class="P3">All MYC devices should have these commands. </p><p class="P3"> </p><p class="P6"><span class="T3">&amp;H00 basic announcement</span>:</p><p class="P6">The basic announcement is called with the one byte command &amp;H00.</p><p class="P3">announce:<span> 0;&lt;dt&gt;;MANUFACTURER;<span class="T2">DEVICEDESCRIPTION</span>;VERSION;NUMBER_OF_DEVICE;LINELENGTH; NUMBER_OF_COMMANDLINES;NUMBER_OF_ANNOUNCELINES</span></p><p class="P3"> </p><p class="P3">command:<span> &amp;H00</span></p><p class="P3">answer:<span> &lt;basic announcement&gt;</span><span> </span><span> as string &lt;s&gt;</span><span> </span><span> </span><span> </span><span> </span></p><p class="P3">info:<span> </span><span> -</span></p><p class="P3">. </p><p class="P3">There is no info, because info must not start with a “0” byte. The device can use the &amp;HxxF0 info instead.</p><p class="P3">The announcement is fixed and therefore format description is not transmitted. Instead the line with content is transmitted.</p><p class="P6">The first byte of the answer  is the one byte string-length. The &amp;H00 announcement is limited therefore to 255 Bytes.</p><p class="P6">The CR can check with the &amp;H00 command, whether a controlled device is active.</p><p class="P6">The CR will send the &amp;H00 command to controlling devices as HI, PQ.. to inform them about a new list of announcements.. The answer must be a valid string, but will not used by the CR.</p><p class="P6"> </p><p class="P6"> </p><p class="P6"/><p class="P6"> </p><p class="P6"> </p><p class="P6"> </p><p class="P6">Device with &lt;dt&gt; are sending commandtoken as per the following list, all communication is via CR:</p><p class="P6"> </p><p class="P6"><span> </span><span> &lt;dt&gt; </span></p><p class="P6">                        |                                              sending commands T: translated; N: not translated; -: not sending</p><p class="P6">                        |                                              |           receiving commands  T: translated; N: not translated; -: not receiving </p><p class="P6">                        |                                              |           |           receiving own reserved commands  T: translated; N: not translated; -: not receiving </p><p class="P6">                        |                                              |           |           |           sending info T: translated; N: not translated; -: not sending</p><p class="P6">                        |                                              |           |           |           |           receiving info T: translated; N: not translated; -: not receiving </p><p class="P6">                        |                                              |           |           |           |           |           number of commands F: fixed V variable -: no commands </p><p class="P6">                        V                                             V          V         V         V         V                     number of rules F: fixed  V: variable  -: no rules</p><p class="P6"> </p><p class="P3">                        c         command-router, <span> </span></p><p class="P3">                                   to lower level<span>            N         -            -          -          N        -            -</span><span> </span></p><p class="P3">                                   to higher level<span>            -          N           N        N         -          V          V</span></p><p class="P3">                                   to m                            N         -           -           -          N         -           -</p><p class="P3">                                   to p                             N         -           -           -          N        V          V</p><p class="P3">                                   to q                             T         T           N         T         T         V          V</p><p class="P3">                                   to l                              T         T           -          T          T        V          V</p><p class="P3">                                   to h                             T         T          N          T         T        V          V</p><p class="P3">                                   to r                              T         T          N         T          T        V          V</p><p class="P3">                       m         normal device            -           N         N         N         -          F          F</p><p class="P3">                       p          programs                    T          T          T         T          T        F           -</p><p class="P3">                       p          programs                    T          T          T         T          T        F           -</p><p class="P3">                       l           logic-device               <span class="T2">T          T          T         T          T        F           -</span></p><p class="P6">                       h          Human Interface        T          -           T         T          T        F           -</p><p class="P6">                       r           rules device               -           N         N         N         -          F          V</p><p class="P6"> </p><p class="P6">MANUFACTURER DEVICEDESCRIPTION and VERSION are combined to a devicegroupname and are used in file names, so not all character are allowed. Preferred is a-z, A-Z, 0-9 _<span> </span><span> </span></p><p class="P6">These devicegroupnames are unique to a  normal device and its firmware. A (published) device / firmware combination with a devicegroupname must not be changed. If changes are necessary, a new version must be used. Each device with it individualization belongs to a devicegroup. So, this is valid also for controlled programs, but not for controlled CR and controlling devices.</p><p class="P6">For a normal device  NUMBER_OF_DEVICES is 1, This value (all active devices) is important for the command-router as info for a </p><p class="P6">higher level CR</p><p class="P6">LINELENGTH is the maximum linelength of the announcement lines.</p><p class="P6">NUMBER_OF_COMMANDLINES is the number of command lines including the basic announcement &amp;H00 but without the rules and reserved commands of the actual device. Using this number the requesting device will calculate the number of bytes used for the commandtoken.</p><p class="P6">NUMBER_OF_ANNOUNCELINES includes rules and all reserved commands. This is necessary to find the type of parameter for a announcement command. When the number of devices changes for a CR, it informs HI etc about a new announcelist. The HI send &amp;H00 and from the NUMBER_OF_ANNOUNCELINES it known, how many bytes the parameter (example!) &amp;HxxFF  in the command &amp;HxxF0&amp;HxxFF must have.</p><p class="P3"> </p><p class="P9">&amp;HxxF0:</p><p class="P6">announce:<span> 240;an,ANNOUNCEMENTS,&lt;des&gt;...&lt;des&gt;;&lt;l&gt;;&lt;number_of_lines&gt;</span><span> </span><span> </span><span> </span><span> 240 for 1 byte command-token</span></p><p class="P3">command:<span> &amp;HxxF0&lt;n&gt;&lt;m&gt;</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> ask for n announcement lines starting at </span></p><p class="P3"><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> position m</span></p><p class="P3">answer:<span> &lt;s&gt;[&lt;s&gt;...]</span></p><p class="P3">info:<span> </span><span> &amp;HxxF0&lt;announce line 0&gt;</span></p><p class="P3"> </p><p class="P3">&lt;m&gt; is a positional parameter of the memory, the commandtoken of the answer may be different. The number of bytes for &lt;m&gt; and &lt;n&gt; depends on <span class="T2">&lt;number_of_lines&gt;.</span></p><p class="P3">&lt;l&gt; is the same as for the basic announcement; it is the maximum length of the string of the memory.  The number of bytes for the string-length </p><p class="P3"><span> depends on this.</span></p><p class="P6">&lt; number_of_lines&gt; is the number of the announcement lines including those for the reserved commands and rules.</p><p class="P4"> </p><p class="P7">The commandrouter will drop the  ANNOUNCEMENTS lines of the other devices when building the complete list. The command-router answers all announcement commands by itself. So the asking devices as HI and PQ will have all correct (translated) command-token. The commandrouter can  send the &amp;HxxF0 command to devices and will get an answer. The commandrouter will  not forward &amp;HxxF0 infos.</p><p class="P7"> </p><p class="P7">Devices may be added or may disappear. It is assumed, that this will rarely happen, so that the CR will build a new list in this case and distribute it.</p><p class="P7">Future versions of the CR may use metacommands to handle disappeared devices.</p><p class="P7"/><p class="P11">&amp;HF1:</p><p class="P6">announce:<span> 241;an,BASIC ANNOUNCEMENTS,&lt;des&gt;...&lt;des&gt;;&lt;n&gt;</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> 241 for 1 byte command-token</span></p><p class="P3">command:<span> &amp;HxxF0&lt;n&gt;&lt;m&gt;</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> ask for basic announcement lines</span></p><p class="P3"><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> position n lines start at m (“1” based)</span></p><p class="P3">answer:<span> &lt;s&gt;</span></p><p class="P7">info:<span> </span><span> &amp;HxxF1&lt;basic announcelines&gt;</span></p><p class="P7"> </p><p class="P7">This command is for the CR only.</p><p class="P7"> </p><p class="P8">Log on Command &amp;HxxFB</p><p class="P7"> </p><p class="P7">This command is used by the commandrouter and rules-device only. If the system requires a log on for users to allow all or a subset of commands the user  will be able to see the local commands of the commandrouter and only the local subset of the &amp;HxxF0 command.  The log on command is sent to the rulesdevice, which will then send  a set of “Q” rules to the LD</p><p class="P7">announce:<span> 251;ob,LOGON[,&lt;des&gt;];&lt;b&gt;,mode;&lt;s&gt;,name;&lt;s&gt;,password</span></p><p class="P7">mode:<span> 1</span><span> log out</span></p><p class="P7"><span> 2</span><span> log on</span></p><p class="P7"><span> 3</span><span> switch on user management (admin only)</span></p><p class="P7"><span> 4</span><span> switch off user management (admin only)</span></p><p class="P7">command:<span> &amp;HxxFB&lt;n&gt;&lt;m&gt;&lt;mode&gt;&lt;name&gt;&lt;password&gt;</span></p><p class="P7">answer<span> </span><span> -</span></p><p class="P7">info<span> </span><span> -</span></p><p class="P7"> </p><p class="P7"> </p><p class="P7"> </p><p class="P5">Last Error Command &amp;HxxFC</p><p class="P3"> </p><p class="P3">This command is mandatory and delivers the last error the device detected. </p><p class="P3">The command announcement has the first description  "LAST ERROR" to identify them in a list with the translated command-token, which is sent by the command-router.</p><p class="P3">announce:<span> 252;aa,LAST ERROR[,&lt;des&gt;];&lt;s&gt;&lt;,des&gt;</span></p><p class="P3">command<span> &amp;HxxFC</span></p><p class="P3">answer<span> </span><span> &lt;s&gt;</span></p><p class="P3">The format of the string is not defined. It should be used for debugging</p><p class="P4"> </p><p class="P5">Info Command &amp;HxxFD</p><p class="P3"> </p><p class="P3">Some devices cannot send infos by themselves, devices with I2C Interface eg.</p><p class="P3">These devices can store infos in a info buffer and the command-router can poll with the info command.</p><p class="P3">A &amp;HxxFD command will have one info. Different kind of infos &lt;OPTION&gt;  are defined as first description. Multiple &lt;OPTION&gt; are addressed by position.</p><p class="P3">The command announcement has the first description  "MYC INFO" to identify them in a list with the translated command-token, which is sent by the command-router.</p><p class="P3"> </p><p class="P3">announce:<span> 253;aa,MYC INFO[,&lt;des&gt;]...[,&lt;des&gt;];&lt;ty&gt;[,&lt;OPTION&gt;,&lt;des&gt;</span></p><p class="P3">command:<span> &amp;HxxFD</span></p><p class="P3">Answer<span> &lt;s&gt;|&lt;n&gt;</span><span> </span></p><p class="P3">info:</p><p class="P3"> </p><p class="P3">&lt;OPTION&gt;<span> </span><span> </span><span> Values:</span></p><p class="P3">b,ACTIVE<span> </span><span> </span><span> 03</span><span> </span><span> busy</span></p><p class="P3"><span> </span><span> </span><span> </span><span> 04</span><span> </span><span> ready and active</span></p><p class="P3"><span> </span><span> </span><span> </span><span> other &lt;n&gt;</span><span> try again in &lt;n&gt; seconds</span><span> </span></p><p class="P3">b,ANNOUNCELIST<span> </span><span> &lt;n&gt;</span><span> </span><span> (new) list &lt;n&gt; available</span></p><p class="P3"><span> </span><span> </span><span> </span><span> </span></p><p class="P4">more  to be defined</p><p class="P4"> </p><p class="P12">Individualization Commands &amp;HxxFE and &amp;HxxFF</p><p class="P10"> </p><p class="P3">The individualization commands write and read the individual properties of a device as names and number for different devices of the same devicegroup in a system and also properties of the communication with the command-router.</p><p class="P3">The &amp;HxxFF is mandatory as last command of a set of announcements. Rules lines may follow only.</p><p class="P3">The command announcements have the first description  "INDIVIDUALISATION to identify them in a list with the translated command-token, which is sent by the command-router.</p><p class="P3"> </p><p class="P3">These properties usually are not written during normal usage but can be written for individualization before the normal usage.</p><p class="P3">It is not necessary that all of the readable properties  are writable as well.</p><p class="P13">At start up the CR must know the individual communication properties for the devices, which therefore must be stored locally,  if the device cannot send them by info (in an I2C environment eg).</p><p class="P3"> </p><p class="P3">announce:<span> 254;oa,INDIVIDUALISATION[,des];&lt;ty&gt;,&lt;OPTION&gt;,&lt;DEFAULT&gt;[,&lt;des&gt;]..</span><span> </span></p><p class="P3">command<span> 254&lt;n&gt;&lt;data&gt;</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> &lt;n&gt; is the sequence number of the OPTION (0 based)</span></p><p class="P3">answer<span> </span><span> -</span></p><p class="P3">info:<span> </span><span> -</span></p><p class="P3">announce:<span> 255;aa,INDIVIDUALISATION[,des];&lt;ty&gt;,&lt;OPTION&gt;,&lt;DEFAULT&gt;[,&lt;des&gt;]..</span><span> </span></p><p class="P3">command<span> 255&lt;n&gt;</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> &lt;n&gt; is the sequence number of the OPTION (0 based))</span></p><p class="P3">answer<span> </span><span> &lt;data&gt;</span></p><p class="P3">info:<span> </span><span> 255&lt;data&gt;&lt;data&gt;</span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> all parameters</span></p><p class="P3"> </p><p class="P3">List of device-property token and values; (This list is not complete and consequently it is possible, that some when some OPTION are not understood.</p><p class="P3">The optionnames must be given in the announcement.</p><p class="P3">For multiple interfaces OPTIONs  for each interface must be grouped together and start with INTERFACETYPE.</p><p class="P3">A &lt;DEFAULT&gt; is mandatory where specified.</p><p class="P3"> </p><p class="P3">&lt;OPTION&gt;<span> </span><span> </span><span> </span><span> Values:</span><span> </span><span> </span><span> comment:</span></p><p class="P3">&lt;l&gt;,NAME,&lt;defaultname&gt;<span> </span><span> </span><span> </span><span> </span><span> actual name, mandatory write/read; &lt; 256 characters</span></p><p class="P3">&lt;n&gt;,NUMBER,&lt;defaultnumber&gt;<span> </span><span> </span><span> </span><span> actual number, mandatory write/read</span></p><p class="P3">&lt;l&gt;,I2C|RS232|CAN|RC5|RC6| <span> </span><span> </span><span> </span><span> This INTERFACETYPE is for information only and cannot be changed</span></p><p class="P3">USB|TELNET|HTTP|HTTPS|TERMINAL|<span> </span><span> </span><span> Multiple Interfaces start with one of these types, followed by the other parameters.</span></p><p class="P3">SSH,&lt;name&gt;<span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> Type + &lt;name&gt; must be unique for a device. The change of &lt;name&gt; is optional.</span></p><p class="P3"> </p><p class="P3">Defined Interfaces:</p><p class="P3"> </p><p class="P3"> &lt;l&gt;,I2C;&lt;name&gt;;</p><p class="P3"> b,ADRESS,&lt;default&gt;{1 to 127}<span> </span><span> </span><span> </span><span> {1 to 127} is optional</span></p><p class="P3"/><p class="P3">&lt;l&gt;RS232,&lt;name;</p><p class="P3"> b.BAUDRATE,&lt;default&gt;,{auto,19200,...}<span> </span><span> </span><span> Baudrate (optional, auto)</span></p><p class="P3"> 3,NUMBER_OF_BITS,{8N1}<span> </span><span> </span><span> </span><span> </span><span> something like this, optional, auto)</span></p><p class="P3"> b,COMPORT,3<span> </span><span> </span><span> </span><span> </span><span> </span><span> COM Port number (optional)</span></p><p class="P3"> </p><p class="P3"> &lt;l&gt;,TELNET,&lt;name&gt;;<span> </span><span> </span><span> </span><span> </span><span> server !!</span></p><p class="P3">&lt;l&gt;,SSH,&lt;name&gt;<span> </span><span> </span><span> </span><span> </span><span> </span><span> server !!</span></p><p class="P3"> w, PORT,23<span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> Portnumber</span></p><p class="P3">&lt;l&gt;,ADRESS,192....<span> </span><span> </span><span> </span><span> </span><span> </span><span> </span></p><p class="P3"> b,TIMEOUT,&lt;default&gt;<span> </span><span> </span><span> </span><span> </span><span> Timeout in seconds (optional)</span><span> </span><span> </span><span> </span><span> </span></p><p class="P3"> </p><p class="P3">&lt;l&gt;,HTTP,&lt;name&gt;;<span> </span><span> </span><span> </span><span> </span><span> </span><span> server !!</span></p><p class="P3">&lt;l&gt;,ADRESS,http://...</p><p class="P3">b,TIMEOUT,&lt;default&gt;<span> </span><span> </span><span> </span><span> </span><span> optional</span></p><p class="P3"> </p><p class="P3">&lt;l&gt;,Terminal,&lt;name&gt;;<span> </span><span> </span><span> </span><span> </span><span> usually for CR only, interface, from where the program is called, no other options.</span></p><p class="P3"> </p><p class="P3">&lt;l&gt;,USB,&lt;name&gt;;<span> </span><span> </span><span> </span><span> </span><span> </span><span> slave</span></p><p class="P3"> </p><p class="P3"> &lt;l&gt;,RC5,&lt;name&gt;;</p><p class="P3"> b,ADRESS,&lt;default&gt;,{1 to 32}<span> </span><span> </span><span> </span><span> {1 to 32} is optional</span></p><p class="P3"> &lt;l&gt;,RC6,&lt;name&gt;;</p><p class="P3">b,ADRESS,&lt;default&gt;,{1 to 64}</p><p class="P3"> </p><p class="P3">&lt;l&gt;,CAN,&lt;name&gt;;</p><p class="P3"> b,ADRESS,&lt;default&gt;</p><p class="P3"> </p><p class="P3">The commandrouter must know the access to the device and therefore &amp;HxxFF result at start. Not forward the &amp;HxxFE and &amp;HxxFF command for security reasons.</p><p class="P3"> </p><p class="P3"> </p><p class="P5">Hierarchical System</p><p class="P3"> </p><p class="P3">In a hierarchical system the CR resolves the announcements of lower level CR but otherwise <span class="T5">keep </span>the sequence. So only the actual CR  delivers the announcelist with the basic announceline at start and the reserved tokens at the end (tabs for clarification only):</p><p class="P3">&lt;0&gt;;c;...</p><p class="P3"><span> &lt;c&gt;&lt;m&gt;...</span></p><p class="P3"><span> ...</span></p><p class="P3"><span> &lt;c&gt;;aa, MYC INFO...</span><span> </span><span> </span><span> </span><span> # no INDIVIDUALIZATION forwarded</span></p><p class="P3"><span> ...</span></p><p class="P3"><span> &lt;c&gt;;c;...</span><span> </span><span> </span><span> </span><span> </span><span> #lower level CR</span></p><p class="P3"><span> &lt;c&gt;&lt;dt&gt;...</span></p><p class="P3"><span> ...</span></p><p class="P3"><span> &lt;c&gt;;aa, MYC INFO...</span><span> </span><span> </span><span> </span><span> #end of lower level CR</span></p><p class="P3"><span> …</span></p><p class="P3"><span> &lt;c&gt;&lt;m&gt;</span><span> </span><span> </span><span> </span><span> </span><span> #may be device within lower level</span></p><p class="P3"><span> &lt;c&gt;;aa, MYC INFO...</span></p><p class="P3"><span> ...</span></p><p class="P3">...</p><p class="P3">&lt;c&gt;;oa, INDIVIDUALISATION...</p><p class="P3">&lt;c&gt;;aa, INDIVIDUALISATION...</p><p class="P3"> </p><p class="P3">Identical devices with identical individualization are not allowed within a CR but for CR in different levels.The announcement list is flat, but the HI can identify the different levels by the number of devices given in the lower l<span class="T5">e</span>vel CR announcement. </p><p class="P3"> </p><p class="P15">Copyright</p><p class="P16"> </p><p class="P16">Die Ideen in diesem Dokument unterliegen der GPL (Gnu Public Licence V2) soweit keine früheren, anderen Rechte betroffen sind.</p><p class="P16">Die Verwendung der Unterlagen erfolgt auf eigene Gefahr; es wird keinerlei Garantie übernommen.</p><p class="P16"> </p><p class="P16">The ideas of this document can be used under GPL (Gnu Public License V2) as long as no earlier other rights are affected.</p><p class="P16">The usage of this document is on own risk, there is no warranty.</p><p class="P16"> </p><p class="P5">Reference:</p><p class="P3"> </p><p class="Standard"><span class="T4">[1]        </span><a href="http://www.dk1ri.de/common/myc/MYC_basic/MYC.pdf" class="Internet_20_link">www.dk1ri.de/common/myc/MYC_basic/MYC.pdf</a><span class="T4">  (deutsch)</span></p><p class="Standard"><span class="T4">[2]        </span><a href="http://www.dk1ri.de/common/myc/MYC_basic/MYC_en.pdf" class="Internet_20_link"><span class="T1">www.dk1ri.de/common/myc/MYC_basic/MYC.pdf</span></a></p><p class="P3">[3]</p><p class="Standard"><span class="T4">[4]        </span><a href="http://www.dk1ri.de/common/myc/MYC_basic/commands.pdf" class="Internet_20_link">www.dk1ri.de/common/myc/MYC_basic/commands.pdf</a></p><p class="Standard"><span class="T4">[5]        </span><a href="http://www.dk1ri.de/common/myc/MYC_basic/Rules.pdf" class="Internet_20_link">www.dk1ri.de/common/myc/MYC_basic/Rules.pdf</a></p><p class="Standard"><span class="T4">[6]        </span><a href="http://www.dk1ri.de/common/myc/MYC_basic/Reserved_tokens.pdf" class="Internet_20_link">www.dk1ri.de/common/myc/MYC_basic/Reserved tokens.pdf</a></p></body></html>